{"version":3,"sources":["components/_utils.js","components/_site-menu.js","components/_video-cards.js","components/_popups.js"],"names":["Util","isInView","el","offset","jQuery","winY","window","innerHeight","document","documentElement","clientHeight","bounds","getBoundingClientRect","top","isAtTop","distance","$","scrollTop","forEach","array","callback","scope","i","length","call","throttle","ms","wait","setTimeout","hasClass","className","classList","contains","list","toggle","c","this","add","remove","loadJSONP","url","context","console","log","unique","name","match","script","createElement","type","src","data","getElementsByTagName","removeChild","appendChild","SiteMenu","html","querySelector","menuToggle","isOpen","init","bind","addEventListener","e","transitionState","preventDefault","onkeydown","keyCode","toggleMenu","elem","closeMenu","openMenu","VideoCards","vidCards","querySelectorAll","bindEvents","index","vidCard","video","handleHover","autoPlay","vid","VidCards","play","pause","onload","PopUps","popUps","closeLinks","popUp","targetPopup","dataset","popup","targetPopupId","vidWrap","open","hasAttribute","playVimeoVideo","closeLink","close","stopVideo","vimeoID","vimeoId","vimeoColor","vimeoPlayer","vimeoApi","vimeoPlayerId","vimeoRequest","encodeURIComponent","innerHTML","unescape","firstChild"],"mappings":"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","file":"app.min.js","sourcesContent":["/**\n * Global Utilities\n */\n\nvar Util = (function() {\n\n  return {\n\n    /**\n     * Is In View?\n     * A super simple in viewport check\n     * Would probs want to build this out a bit more\n     *\n     * @param  {el} Element to test\n     * @return {boolean}\n     */\n    isInView: function(el, offset) {\n      // 'sup jquery\n      if (typeof jQuery === \"function\" && el instanceof jQuery) {\n        el = el[0];\n      }\n      var winY = window.innerHeight || document.documentElement.clientHeight,\n          bounds = el.getBoundingClientRect(),\n          isTopVisible = (bounds.top >= 0) && (bounds.top <= winY - offset);\n\n      if (isTopVisible) {\n        return true;\n      }\n    },\n\n    isAtTop: function(el) {\n      var distance = $(el).offset().top,\n      $window = $(window);\n\n      if ($window.scrollTop() >= distance/1.5) {\n        return true;\n      }\n    },\n\n\n    /**\n     * ForEach Utility\n     * Ensure we can loop over a object or nodelist\n     * @see https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n     */\n    forEach: function (array, callback, scope) {\n      for (var i = 0; i < array.length; i++) {\n        callback.call(scope, i, array[i]);\n      }\n    },\n\n\n    /**\n     * Throttle Util\n     * Stoopid simple throttle util to control scroll events and so on.\n     *\n     * @param  {Function}  Function call to throttle.\n     * @param  {int}       milliseconds to throttle  method\n     * @return {Function}  Returns a throttled function\n     */\n    throttle: function(callback, ms) {\n      var wait = false;\n      return function () {\n          if (!wait) {\n              callback.call();\n              wait = true;\n              setTimeout(function () {\n                  wait = false;\n              }, ms);\n          }\n      };\n    },\n\n    hasClass: function(el, className) {\n      if (el.classList.contains(className)){\n        return true;\n      }\n    },\n\n  classList: function(el) {\n    var list = el.classList;\n\n    return {\n        toggle: function(c) { list.toggle(c); return this; },\n        add:    function(c) { list.add   (c); return this; },\n        remove: function(c) { list.remove(c); return this; }\n    };\n  },\n\n    /**\n     * Hellow Test\n     */\n     loadJSONP: function(url, callback, context){\n\n       console.log('hi utils')\n\n       var unique = 0;\n\n\n\n         console.log('inside')\n         // INIT\n         var name = \"_jsonp_\" + unique++;\n         if (url.match(/\\?/)) url += \"&callback=\"+name;\n         else url += \"?callback=\"+name;\n\n         console.log('util url', url)\n         // Create script\n         var script = document.createElement('script');\n         script.type = 'text/javascript';\n         script.src = url;\n\n         window[name] = function(data){\n           callback.call((context || window), data);\n           document.getElementsByTagName('head')[0].removeChild(script);\n           script = null;\n           delete window[name];\n           console.log([name])\n         };\n\n         // Load JSON\n         document.getElementsByTagName('head')[0].appendChild(script);\n\n     },\n  };\n })();\n","\n/**\n * Menu\n * Allows for links nested inside a block level link wrap\n * via a data attribute of the link location.\n * @author Stephen Scaff\n */\nvar SiteMenu = (function() {\n\n  var html = document.querySelector('html');\n  //var site_menu = document.querySelector('.site-menu');\n  var menuToggle = document.querySelector('.js-menu-toggle');\n  var isOpen = false;\n\n\n  return{\n\n    /**\n     * Init\n     */\n    init: function() {\n      this.bind();\n    },\n\n    bind:function() {\n\n      menuToggle.addEventListener('click', function (e) {\n        SiteMenu.transitionState();\n        e.preventDefault();\n      });\n\n      window.onkeydown = function(e) {\n        if (isOpen && e.keyCode === 27) {\n          SiteMenu.transitionState();\n          e.preventDefault();\n        }\n      }\n    },\n\n    /**\n     * Build Link\n     * Constructs our nested link from our data attribute\n     */\n    toggleMenu: function(){\n      //MenuNav.transitionState('.site-menu');\n    },\n\n    transitionState: function(elem){\n\n      if (isOpen) {\n          SiteMenu.closeMenu();\n      } else {\n        SiteMenu.openMenu();\n      }\n    },\n\n    closeMenu: function(){\n      html.classList.add('menu-is-closing');\n\n      setTimeout(function(){\n        html.classList.remove('menu-is-open');\n        html.classList.add('menu-is-closed');\n        html.classList.remove('menu-is-closing');\n        isOpen = false;\n      }, 1000);\n    },\n\n    openMenu: function(){\n      html.classList.add('menu-is-opening');\n      setTimeout(function(){\n        html.classList.remove('menu-is-closed');\n        html.classList.add('menu-is-open');\n        html.classList.remove('menu-is-opening');\n        isOpen = true;\n      }, 0);\n    },\n  };\n })();\nSiteMenu.init();\n\n\n\n\n\n\n\n\n\n// var menu_toggle = document.querySelector('.js-menu-toggle');\n\n//   var toggleState = function (elem, one, two) {\n//     var elem = document.querySelector(elem);\n//     elem.setAttribute('data-state', elem.getAttribute('data-state') === one ? two : one);\n//   };\n\n// menu_toggle.addEventListener('click', function (e) {\n\n//     console.log('ypypypy');\n//     toggleState('.site-menu', 'closed', 'open');\n//     e.preventDefault();\n//   });\n","/**\n * Hellow Test\n */\n\n\nvar VideoCards = (function() {\n\n  var vidCards = document.querySelectorAll('.js-vid-card');\n\n  return{\n\n    /**\n     * Init\n     */\n    init: function(){\n      this.bindEvents();\n    },\n\n    bindEvents: function() {\n      Util.forEach ( vidCards, function (index, vidCard) {\n        var video = vidCard.querySelector('video');\n        //VideoCards.autoplay(video);\n        VideoCards.handleHover(vidCard, video);\n      });\n    },\n\n\n    autoPlay: function(vid) {\n      if (VidCards.classList.contains('js-vid-autoplay')) {\n        vid.play();\n      }\n    },\n    /**\n     * Build Link\n     * Constructs our nested link from our data attribute\n     */\n    handleHover: function(el, vid){\n      el.addEventListener('mouseover', function() {\n          vid.play();\n      });\n\n      el.addEventListener('mouseout', function() {\n          vid.pause();\n      });\n    },\n  };\n })();\nwindow.onload = function() {\nVideoCards.init();\n};\n","/**\n * Hellow Test\n */\nvar PopUps = (function() {\n\n  var html = document.querySelector('html'),\n      popUps = document.querySelectorAll('[data-popup]'),\n      closeLinks = document.querySelectorAll('.js-close-popup')\n      isOpen = false;\n\n  return{\n\n    /**\n     * Init\n     */\n    init: function(){\n      this.bindEvents();\n    },\n\n    /**\n     * Bind Events\n     */\n    bindEvents: function() {\n      Util.forEach ( popUps, function (index, popUp) {\n        popUp.addEventListener('click', function(e) {\n          e.preventDefault();\n\n          var targetPopup = popUp.dataset.popup,\n              targetPopupId = document.querySelector('#' + targetPopup),\n              vidWrap = targetPopupId.querySelector('.js-vid-wrap');\n\n          PopUps.open(targetPopupId);\n\n          if (popUp.hasAttribute('data-vimeo-id') ) {\n            PopUps.playVimeoVideo(popUp, targetPopupId, vidWrap);\n          }\n\n          if (isOpen = true) {\n            Util.forEach ( closeLinks, function (index, closeLink) {\n              closeLink.addEventListener('click', function(e) {\n                e.preventDefault();\n                PopUps.close(targetPopupId);\n              });\n            });\n            window.onkeydown = function(e) {\n              if (e.keyCode === 27) {\n                PopUps.close(targetPopupId);\n                PopUps.stopVideo(targetPopupId, vidWrap);\n              }\n            }\n          }\n        });\n      });\n    },\n\n    /**\n     * Open Modal\n     */\n    open: function(el){\n      html.classList.remove('popup-is-closed');\n      html.classList.add('popup-is-opening');\n      el.classList.remove('is-closed');\n      el.classList.add('is-open');\n\n      setTimeout(function(){\n        html.classList.remove('popup-is-opening');\n        html.classList.add('popup-is-open');\n        isOpen = true;\n      }, 200);\n    },\n\n    /**\n     * Close Modal\n     */\n    close: function(el){\n      html.classList.add('popup-is-closing');\n      el.classList.add('is-closing');\n\n      setTimeout(function(){\n        html.classList.remove('popup-is-open');\n        el.classList.remove('is-open');\n        html.classList.remove('popup-is-closing');\n        html.classList.add('popup-is-closed');\n        el.classList.remove('is-closing');\n        el.classList.add('is-closed');\n\n        isOpen = false;\n      }, 1000);\n    },\n\n    /**\n     * Play Vimeo Video\n     * Launched Vimeo vid in wrapper via api call\n     */\n    playVimeoVideo: function(popUp, targetPopupId, vidWrap) {\n\n      var vimeoID = popUp.dataset.vimeoId,\n          vimeoColor = popUp.dataset.vimeoColor\n          vimeoPlayer = 'https://player.vimeo.com/video/',\n          vimeoApi =    'http://www.vimeo.com/api/oembed.json?url=',\n          vimeoPlayerId = vimeoPlayer + vimeoID,\n          vimeoRequest = 'http://www.vimeo.com/api/oembed.json?url=' + encodeURIComponent(vimeoPlayerId) + '&color=' + vimeoColor + '&autoplay=1&callback=?';\n\n      Util.loadJSONP(vimeoRequest, function(data) {\n        console.log(data);\n        vidWrap.innerHTML = unescape(data.html);\n      });\n    },\n\n    /**\n     * Stop Vid\n     */\n    stopVideo: function(targetPopupId, vidWrap) {\n      while(vidWrap.firstChild) {\n        vidWrap.removeChild(vidWrap.firstChild)\n      }\n    },\n  };\n })();\n\nwindow.onload = function() {\n  PopUps.init();\n};\n"]}