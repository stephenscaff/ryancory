var Util={isInView:function(e,n){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var o=window.innerHeight||document.documentElement.clientHeight,t=e.getBoundingClientRect();if(t.top>=0&&t.top<=o-n)return!0},isAtTop:function(e){var n=$(e).offset().top;if($(window).scrollTop()>=n/1.5)return!0},forEach:function(e,n,o){for(var t=0;t<e.length;t++)n.call(o,t,e[t])},throttle:function(e,n){var o=!1;return function(){o||(e.call(),o=!0,setTimeout(function(){o=!1},n))}},hasClass:function(e,n){if(e.classList.contains(n))return!0},classList:function(e){var n=e.classList;return{toggle:function(e){return n.toggle(e),this},add:function(e){return n.add(e),this},remove:function(e){return n.remove(e),this}}},loadJSONP:function(e,n,o){console.log("hi utils");var t=0;console.log("inside");var i="_jsonp_"+t++;e.match(/\?/)?e+="&callback="+i:e+="?callback="+i,console.log("util url",e);var s=document.createElement("script");s.type="text/javascript",s.src=e,window[i]=function(e){n.call(o||window,e),document.getElementsByTagName("head")[0].removeChild(s),s=null,delete window[i],console.log([i])},document.getElementsByTagName("head")[0].appendChild(s)}},SiteMenu=function(){var e=document.querySelector("html"),n=document.querySelector(".js-menu-toggle"),o=!1;return{init:function(){this.bind()},bind:function(){n.addEventListener("click",function(e){SiteMenu.transitionState(),e.preventDefault()}),window.onkeydown=function(e){o&&27===e.keyCode&&(SiteMenu.transitionState(),e.preventDefault())}},toggleMenu:function(){},transitionState:function(e){o?SiteMenu.closeMenu():SiteMenu.openMenu()},closeMenu:function(){e.classList.add("menu-is-closing"),setTimeout(function(){e.classList.remove("menu-is-open"),e.classList.add("menu-is-closed"),e.classList.remove("menu-is-closing"),o=!1},1e3)},openMenu:function(){e.classList.add("menu-is-opening"),setTimeout(function(){e.classList.remove("menu-is-closed"),e.classList.add("menu-is-open"),e.classList.remove("menu-is-opening"),o=!0},0)}}}();SiteMenu.init();var VideoCards=function(){var e=document.querySelectorAll(".js-vid-card");return{init:function(){this.bindEvents()},bindEvents:function(){Util.forEach(e,function(e,n){var o=n.querySelector("video");VideoCards.handleHover(n,o)})},autoPlay:function(e){VidCards.classList.contains("js-vid-autoplay")&&e.play()},handleHover:function(e,n){e.addEventListener("mouseover",function(){n.play()}),e.addEventListener("mouseout",function(){n.pause()})}}}();window.onload=function(){VideoCards.init()};var PopUps=function(){var e=document.querySelector("html"),n=document.querySelectorAll("[data-popup]"),o=document.querySelectorAll(".js-close-popup");return isOpen=!1,{init:function(){this.bindEvents()},bindEvents:function(){Util.forEach(n,function(e,n){n.addEventListener("click",function(e){e.preventDefault();var t=n.dataset.popup,i=document.querySelector("#"+t),s=i.querySelector(".js-vid-wrap");PopUps.open(i),n.hasAttribute("data-vimeo-id")&&PopUps.playVimeoVideo(n,i,s),(isOpen=!0)&&(Util.forEach(o,function(e,n){n.addEventListener("click",function(e){e.preventDefault(),PopUps.close(i)})}),window.onkeydown=function(e){27===e.keyCode&&(PopUps.close(i),PopUps.stopVideo(i,s))})})})},open:function(n){e.classList.remove("popup-is-closed"),e.classList.add("popup-is-opening"),n.classList.remove("is-closed"),n.classList.add("is-open"),setTimeout(function(){e.classList.remove("popup-is-opening"),e.classList.add("popup-is-open"),isOpen=!0},200)},close:function(n){e.classList.add("popup-is-closing"),n.classList.add("is-closing"),setTimeout(function(){e.classList.remove("popup-is-open"),n.classList.remove("is-open"),e.classList.remove("popup-is-closing"),e.classList.add("popup-is-closed"),n.classList.remove("is-closing"),n.classList.add("is-closed"),isOpen=!1},1e3)},playVimeoVideo:function(e,n,o){var t=e.dataset.vimeoId,i=e.dataset.vimeoColor;vimeoPlayer="https://player.vimeo.com/video/",vimeoApi="http://www.vimeo.com/api/oembed.json?url=",vimeoPlayerId=vimeoPlayer+t,vimeoRequest="http://www.vimeo.com/api/oembed.json?url="+encodeURIComponent(vimeoPlayerId)+"&color="+i+"&autoplay=1&callback=?",Util.loadJSONP(vimeoRequest,function(e){console.log(e),o.innerHTML=unescape(e.html)})},stopVideo:function(e,n){for(;n.firstChild;)n.removeChild(n.firstChild)}}}();window.onload=function(){PopUps.init()};
//# sourceMappingURL=app.min.js.map
